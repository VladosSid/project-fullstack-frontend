{"version":3,"file":"static/js/329.c337cdf8.chunk.js","mappings":"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","sources":["components/DishCard/DishCard.styled.js","components/DishCard/DishCard.jsx","components/SearchForm/SearchForm.styled.js","components/SearchForm/SearchForm.jsx","pages/MainPage/MainPage.styled.js","components/MainPageHero/MainPageHero.styled.js","components/MainPageHero/MainPageHero.jsx","pages/MainPage/MainPage.jsx","helpers/createSearchUrl.js"],"sourcesContent":["import styled from 'styled-components';\nexport const DishWrapper = styled.div`\n  position: relative;\n  /* margin-bottom: 24px; */\n  img {\n    width: 100%;\n    border-radius: 8px;\n  }\n  > a {\n    text-decoration: none;\n  }\n`;\nexport const DishTitleWrapper = styled.div`\n  position: absolute;\n  left: 16px;\n  right: 16px;\n  bottom: 26px;\n  background: #ffffff;\n  border-radius: 8px;\n  padding: 16px;\n  max-width: 286px;\n`;\nexport const DishTitle = styled.h3`\n  font-family: 'Poppins';\n  font-style: normal;\n  font-weight: 500;\n  font-size: 16px;\n  line-height: 1.25;\n  letter-spacing: -0.24px;\n  color: #3e4462;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n`;\n","import React from 'react';\nimport { DishWrapper, DishTitleWrapper, DishTitle } from './DishCard.styled';\nimport { Link } from 'react-router-dom';\n\nexport default function DishCard({ location, recipe }) {\n  return (\n    <DishWrapper>\n      {/* Здесь вместо <a> должно быть  <Link to={} state={{from:location}} >  */}\n      <Link to={`/recipe/${recipe._id}`} state={{ from: location }}>\n        <img src={recipe.imageUrl} alt={recipe.title} />\n        <DishTitleWrapper>\n          <DishTitle>{recipe.title}</DishTitle>\n        </DishTitleWrapper>\n      </Link>\n    </DishWrapper>\n  );\n}\n","import styled from 'styled-components';\n//------------------------\nexport const SearchesForm = styled.form`\n  display: flex;\n  position: relative;\n  margin: 0 auto;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: ${props => (props.marginBottom ? '24px' : 0)};\n`;\n\nexport const SearchInput = styled.input`\n  background-color: #fafafa;\n  border: none;\n  outline: none;\n  /* Secondary/Secondary1 */\n  border-radius: 24px 44px;\n  border: 1px solid #f0f0f0;\n  height: 52px;\n  width: 295px;\n  padding-left: 17px;\n  ::placeholder {\n    font-family: 'Poppins';\n    font-style: normal;\n    font-weight: 400;\n    font-size: 12px;\n    line-height: 1.5;\n    color: #bdbdbd;\n  }\n  /* ::placeholder {\n    font: inherit;\n    font-size: 18px;\n  } */\n`;\nexport const SearchBtn = styled.button`\n  position: absolute;\n  right: 0;\n  width: 113px;\n  height: 52px;\n  /* left: 221px;\n  top: 642px; */\n\n  /* background: #22252a; */\n\n  /* identical to box height */\n  /* background-color: #22252a; !!!!!*/\n\n  border-radius: 24px 44px;\n  border: 1px solid rgb(250, 250, 250);\n  color: #fafafa;\n  font-family: 'Poppins';\n  font-style: normal;\n  font-weight: 400;\n  font-size: 14px;\n  line-height: 1.5;\n  background-color: ${props => (props.green ? '#8BAA36' : '#22252a')};\n`;\n","import React, { useState } from 'react';\nimport { SearchesForm, SearchInput, SearchBtn } from './SearchForm.styled';\n//------------------------------------------\nexport default function SearchForm({\n  green,\n  onSubm,\n  marginBottom,\n  searchQuery,\n}) {\n  const [searchWord, setSearchWord] = useState(searchQuery || '');\n\n  const handleChange = evt => {\n    setSearchWord(evt.currentTarget.value);\n  };\n\n  const handleSubmit = evt => {\n    evt.preventDefault();\n    console.log('Query in SF submit', searchWord);\n    if (searchWord.trim() === '') {\n      console.log('Please fill the search form ');\n      return;\n    }\n\n    onSubm(searchWord);\n  };\n  return (\n    <SearchesForm onSubmit={handleSubmit} marginBottom={marginBottom}>\n      <SearchInput\n        placeholder=\"Beef\"\n        value={searchWord}\n        onChange={handleChange}\n      />\n      <SearchBtn green={green}>Search</SearchBtn>\n    </SearchesForm>\n  );\n}\n","import styled from 'styled-components';\nimport theme from '../../style/generalStyle';\n\nexport const ContainerWrapper = styled.div`\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding-left: 16px;\n  padding-right: 16px;\n  @media ${theme.device.tablet} {\n    padding-left: 32px;\n    padding-right: 32px;\n  }\n\n  @media ${theme.device.desktop} {\n    padding-left: 99px;\n    padding-right: 99px;\n  }\n`;\nexport const Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  /* grid-template-columns: repeat(auto-fit, 343px); */\n  gap: 32px;\n  width: 100%;\n  @media screen and (min-width: 1440px) {\n    gap: 50px;\n  }\n\n  @media ${theme.device.desktop} {\n    gap: 100px;\n  }\n`;\nexport const GridContainer = styled.div`\n  justify-content: center;\n  @media ${theme.device.tablet} {\n    display: flex;\n    gap: 32px;\n  }\n\n  @media ${theme.device.desktop} {\n    display: flex;\n    gap: 14px;\n  }\n`;\nexport const RecipeCategoryName = styled.h2`\n  margin-bottom: 32px;\n  font-family: 'Poppins';\n  font-style: normal;\n  font-weight: 600;\n  font-size: 28px;\n  line-height: 1;\n\n  letter-spacing: -0.02em;\n  /* font-feature-settings: 'liga' off; */\n\n  color: #001833;\n`;\n\nexport const CardWrapper = styled.div`\n  position: relative;\n  margin-bottom: 24px;\n  img {\n    /* width: 343px;\n    height: 323px; */\n    /* object-fit: cover; */\n    width: 100%;\n    border-radius: 8px;\n  }\n  > a {\n    text-decoration: none;\n  }\n`;\nexport const RecipeTitleWrapper = styled.div`\n  position: absolute;\n  left: 16px;\n  right: 16px;\n  bottom: 26px;\n  background: #ffffff;\n  border-radius: 8px;\n  padding: 16px;\n`;\nexport const RecipeTitle = styled.h3`\n  font-family: 'Poppins';\n  font-style: normal;\n  font-weight: 500;\n  font-size: 16px;\n  line-height: 1.25;\n  /* identical to box height, or 125% */\n\n  letter-spacing: -0.24px;\n\n  /* Color - Text Primary */\n\n  color: #3e4462;\n`;\nexport const Button = styled.button`\n  display: flex;\n  width: 94px;\n  height: 38px;\n\n  background: #8aa936;\n  border-radius: 6px;\n  border-color: transparent;\n  justify-content: center;\n  align-items: center;\n  /* padding: 10px 24px; */\n  color: #fafafa;\n  font-family: 'Poppins';\n  font-style: normal;\n  font-weight: 400;\n  font-size: 14px;\n  line-height: 1.29;\n  margin-left: auto;\n  margin-top: 24px;\n  @media ${theme.device.tablet} {\n    margin-top: 40px;\n  }\n\n  @media ${theme.device.desktop} {\n    margin-top: 60px;\n  }\n`;\n","import styled from 'styled-components';\n\nexport const MPHeroWrapper = styled.div`\n  padding-top: 71px;\n  padding-bottom: 147px;\n`;\n","import SearchForm from 'components/SearchForm';\nimport React from 'react';\nimport { MPHeroWrapper } from './MainPageHero.styled';\n\n// import { useSearchParams } from 'react-router-dom';\n\nexport default function MainPageHero({ onSubm }) {\n  // const [searchParams, setSearchParams] = useSearchParams();\n  // const queryFilm = searchParams.get('query');\n\n  return (\n    <MPHeroWrapper>\n      <SearchForm onSubm={onSubm} />\n    </MPHeroWrapper>\n  );\n}\n","import React, { useState, useEffect } from 'react';\n// import { recipesG } from 'gannaFakeData';\nimport { useLocation } from 'react-router-dom';\nimport instanceBacEnd from 'helpers/requestBackEnd';\n// import axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\n\nimport {\n  Container,\n  RecipeCategoryName,\n  Button,\n  ContainerWrapper,\n  GridContainer,\n} from './MainPage.styled';\n\nimport MainPageHero from 'components/MainPageHero';\nimport DishCard from 'components/DishCard';\nimport { createCategoryUrl, createSearchUrl } from 'helpers/createSearchUrl';\n//--------------------------------------\nexport default function MainPage() {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const [recipes, setRecipes] = useState([]);\n  // const [searchParams, setSearchParams] = useSearchParams();\n  // const queryRec = searchParams.get('query');\n  // const [width] = useState(window.innerWidth);\n  const [width] = useState(window.innerWidth);\n  //Do we need resize?\n  // const [width, setWidth] = useState(window.innerWidth);\n  // const handleResize = () => {\n  //   setWidth(window.innerWidth);\n  // };\n\n  // useEffect(() => {\n  //   window.addEventListener('resize', handleResize);\n\n  //   return () => {\n  //     window.removeEventListener('resize', handleResize);\n  //   };\n  // }, []);\n\n  useEffect(() => {\n    instanceBacEnd.defaults.headers.common.Authorization =\n      'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NDI4NGEyNDI5ODkxOTJkMDJkOTc1ZGMiLCJpYXQiOjE2ODAzNjQzOTB9.F6KumBIsfhDh32UmksQgN3JqdFUpxwqq0ifHBL8dq3A';\n    let queryQuantity;\n    if (width >= 768 && width < 1440) {\n      queryQuantity = 2;\n    } else if (width >= 1440) {\n      queryQuantity = 4;\n    } else if (width < 768) {\n      queryQuantity = 1;\n    }\n    instanceBacEnd\n      .get(`/recipes/main-page?query=${queryQuantity}`)\n\n      .then(function (response) {\n        setRecipes(response.data.result.data);\n\n        console.log(queryQuantity, width);\n      })\n      .catch(function (error) {\n        console.log(error.message);\n      });\n  }, [width]);\n\n  const RecipesByCategory = recipes.reduce((acc, recipe) => {\n    if (!acc[recipe.category]) {\n      acc[recipe.category] = [recipe];\n    } else {\n      acc[recipe.category].push(recipe);\n    }\n    return acc;\n  }, {});\n  //---------------------------\n  const handleFormSubmit = query => {\n    console.log('Query in Main', query);\n\n    // const nextQuery = query !== '' ? { query } : {};\n    // setSearchParams(nextQuery);\n    const searchUrl = createSearchUrl(query);\n    console.log('SearchUrl in MainPage', searchUrl);\n    navigate(searchUrl);\n  };\n\n  const handleCategoryClick = category => {\n    console.log('category in Main', category);\n\n    // const nextQuery = query !== '' ? { query } : {};\n    // setSearchParams(nextQuery);\n    const categoryUrl = createCategoryUrl(category);\n    navigate(categoryUrl);\n  };\n  //-------------------\n  return (\n    <ContainerWrapper>\n      <MainPageHero onSubm={handleFormSubmit} />\n      <Container>\n        {Object.entries(RecipesByCategory).map(([category, recipes]) => (\n          <div key={category}>\n            <RecipeCategoryName>{category}</RecipeCategoryName>\n            <GridContainer>\n              {recipes.map(recipe => (\n                <DishCard\n                  key={recipe._id}\n                  location={location}\n                  recipe={recipe}\n                />\n              ))}\n            </GridContainer>\n\n            <Button onClick={() => handleCategoryClick(category)}>\n              See all\n            </Button>\n          </div>\n        ))}\n      </Container>\n    </ContainerWrapper>\n  );\n}\n\n//${ REACT_APP_BASE_URL } /recipes/main - page ? ${ queryQuantity }\n","export function createSearchUrl(queryWord, type = 'title') {\n  const searchWord = queryWord.toLowerCase();\n  const encodedSearchTerm = encodeURIComponent(searchWord);\n\n  const searchUrl = `/search?query=${encodedSearchTerm}&type=${type}`;\n  console.log('searchUrl', searchUrl);\n  return searchUrl;\n}\nexport function createCategoryUrl(category) {\n  // const categoryWord = category.toLowerCase();\n  // const categoryUrl = `/categories/${categoryWord}`;\n  const categoryUrl = `/categories`;\n  //   navigate(`/search?type=${searchType}&term=${encodedSearchTerm}`);\n  console.log('categoryUrl', categoryUrl);\n  return categoryUrl;\n}\n"],"names":["DishWrapper","styled","DishTitleWrapper","DishTitle","DishCard","location","recipe","Link","to","_id","state","from","src","imageUrl","alt","title","SearchesForm","props","marginBottom","SearchInput","SearchBtn","green","SearchForm","onSubm","searchQuery","useState","searchWord","setSearchWord","onSubmit","evt","preventDefault","console","log","trim","placeholder","value","onChange","currentTarget","ContainerWrapper","theme","Container","GridContainer","RecipeCategoryName","Button","MPHeroWrapper","MainPageHero","MainPage","useLocation","navigate","useNavigate","recipes","setRecipes","window","innerWidth","width","useEffect","queryQuantity","instanceBacEnd","then","response","data","result","catch","error","message","RecipesByCategory","reduce","acc","category","push","handleCategoryClick","categoryUrl","createCategoryUrl","query","searchUrl","queryWord","type","toLowerCase","encodedSearchTerm","encodeURIComponent","createSearchUrl","Object","entries","map","onClick"],"sourceRoot":""}